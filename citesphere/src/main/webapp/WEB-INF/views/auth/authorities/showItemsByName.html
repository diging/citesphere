<html layout:decorate="~{layouts/main}">

<head>
<script src="https://code.jquery.com/ui/1.10.1/jquery-ui.min.js"></script>
</head>

<body>
	<div layout:fragment="content">
		<div class="col-md-10" id="citationBlock">
			<table class="table table-striped table-bordered">
				<tr>
					<th>Type</th>
					<th>Authors</th>
					<th>Title</th>
					<th>Date</th>
					<th>URL</th>
					<th>Files</th>
				</tr>
				<tr th:id="'tr-'+${entry.key}" data-action='draggable' class="items"
					th:each="entry,loop : ${items}">
					<td><span class="text-warning">
							<div
								th:with="iconClass=${@iconsResource.getProperty(entry.itemType + '_icon')}
			  , iconLabel=${@iconsResource.getProperty(entry.itemType + '_label')}">
								<i
									th:classappend="${!#strings.isEmpty(iconClass)} ? ${iconClass} : 'icon-docs'"></i>
								[[${iconLabel} ?: ${entry.itemType}]]
							</div>
					</span></td>
					<td th:data-key="${entry.key}" th:data-index="${loop.index}">
						<a class="bib-entry" th:if="${!#strings.isEmpty(collectionId)}"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}&collectionId=${collectionId}&page=${currentPage}&sortBy=${sort}|}">
							<th:block th:each="author,status : ${entry.authors}">
								<strong style="color: black">[[${author.lastName}]]<span
									style="color: black"
									th:if="${!#strings.isEmpty(author.firstName)}">,
										[[${author.firstName}]]</span></strong>
								<span th:if="${!status.last}">; </span>
							</th:block>
					</a> <a class="bib-entry" th:if="${!#strings.isEmpty(searchTerm)}"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?searchTerm=${searchTerm}&index=${loop.index}&page=${currentPage}&sortBy=${sort}|}">
							<th:block th:each="author,status : ${entry.authors}">
								<strong style="color: black">[[${author.lastName}]]<span
									style="color: black"
									th:if="${!#strings.isEmpty(author.firstName)}">,
										[[${author.firstName}]]</span></strong>
								<span th:if="${!status.last}">; </span>
							</th:block>
					</a> <a class="bib-entry"
						th:unless="${!#strings.isEmpty(searchTerm) or !#strings.isEmpty(collectionId)}"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}&page=${currentPage}&sortBy=${sort}|}">
							<th:block th:each="author,status : ${entry.authors}">
								<strong style="color: black">[[${author.lastName}]]<span
									style="color: black"
									th:if="${!#strings.isEmpty(author.firstName)}">,
										[[${author.firstName}]]</span></strong>
								<span th:if="${!status.last}">; </span>
							</th:block>
					</a>
					</td>

					<td th:data-key="${entry.key}" th:data-index="${loop.index}">
						<a class="bib-entry"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}|}">
							<em style="color: black">[[${entry.title}]]</em>
					</a>
					</td>
					<td th:data-key="${entry.key}" th:data-index="${loop.index}">
						<a class="bib-entry" style="color: black"
						th:if="${!#strings.isEmpty(collectionId)}"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}&collectionId=${collectionId}&page=${currentPage}&sortBy=${sort}|}">
							[[${entry.dateFreetext}]] </a> <a class="bib-entry"
						style="color: black" th:if="${!#strings.isEmpty(searchTerm)}"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?searchTerm=${searchTerm}&index=${loop.index}&page=${currentPage}&sortBy=${sort}|}">
							[[${entry.dateFreetext}]] </a> <a class="bib-entry"
						style="color: black"
						th:unless="${!#strings.isEmpty(searchTerm) or !#strings.isEmpty(collectionId)}"
						th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}&page=${currentPage}&sortBy=${sort}|}">
							[[${entry.dateFreetext}]] </a>
					</td>
					<td><span th:if="${!#strings.isEmpty(entry.url)}"> <a
							href="${entry.url}" target="_blank" th:title="${entry.url} "><i
								class="icon-www"></i></a>
					</span></td>
					<td><span th:if="${!#sets.isEmpty(entry.gilesUploads)}">
							<a class="bib-entry" th:if="${!#strings.isEmpty(collectionId)}"
							th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}&collectionId=${collectionId}&page=${currentPage}&sortBy=${sort}|}">
								<i class="icon-multiple-doc"></i>
						</a> <a class="bib-entry" th:if="${!#strings.isEmpty(searchTerm)}"
							th:href="@{|/auth/group/${entry.group}/items/${entry.key}?searchTerm=${searchTerm}&index=${loop.index}&page=${currentPage}&sortBy=${sort}|}">
								<i class="icon-multiple-doc"></i>
						</a> <a class="bib-entry"
							th:unless="${!#strings.isEmpty(searchTerm) or !#strings.isEmpty(collectionId)}"
							th:href="@{|/auth/group/${entry.group}/items/${entry.key}?index=${loop.index}&page=${currentPage}&sortBy=${sort}|}">
								<i class="icon-multiple-doc"></i>
						</a>
					</span></td>
				</tr>
			</table>
		</div>
	</div>
</body>

</html> 